!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sapp=t():e.sapp=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,a)=>{for(var c in a)e.o(a,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:a[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};return((e,t,a)=>{a.d(t,{default:()=>l});const c={version:"1.2.11",ready:function(e){window.plus?setTimeout((function(){e()}),0):document.addEventListener("plusready",(function(){e()}),!1)}};function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}function n(e){return null==e?String(e):"object"}function s(e){return null!=e&&e===e.window}function o(e){return"object"===n(e)}function r(e){return o(e)&&!s(e)&&Object.getPrototypeOf(e)===Object.prototype}function d(e,t,a){e.dispatchEvent(new i(t,{detail:a,bubbles:!0,cancelable:!0}))}function u(e,t,a){e&&(""!==a&&r(a=a||{})&&(a=JSON.stringify(a||{}).replace(/\'/g,"\\u0027").replace(/\\/g,"\\u005c")),e.evalJS("typeof sapp!=='undefined'&&sapp.core.receive('"+t+"','"+a+"')"))}const f={type:n,isWindow:s,isObject:o,isPlainObject:r,trigger:d,registerService:function(e,t){window.addEventListener(e,(async e=>{const a=e.detail?e.detail.success:"",c=e.detail?e.detail.fail:"",i=e.detail?e.detail:{},n=plus.webview.getTopWebview();try{const e=await t(i);a&&u(n,a,e)}catch(e){c&&u(n,c,e)}}))},dispatch:function(e,t={}){const a={},{success:c,fail:i}=t;a.success=function(t){window.removeEventListener(e+"-success",a.success),"function"==typeof c&&c(t.detail)},a.fail=function(t){window.removeEventListener(e+"-fail",a.fail),"function"==typeof i&&i(t.detail)},window.addEventListener(e+"-success",a.success),window.addEventListener(e+"-fail",a.fail),u(plus.webview.getLaunchWebview(),e,{success:e+"-success",fail:e+"-fail",params:t})},receive:function(e,t){if(e){try{t&&(t=JSON.parse(t))}catch(e){console.error(e)}d(document,e,t)}},fire:u},p={checkVersion:e=>{f.dispatch("checkVersion",e)},reload:e=>{f.dispatch("reload",e)},refresh:e=>{f.dispatch("refresh",e)},getAuthorization:e=>{f.dispatch("getAuthorization",e)},getLocation:e=>{f.dispatch("getLocation",e)},chooseImage:e=>{f.dispatch("chooseImage",e)},setStatusBarStyle:e=>{f.dispatch("setStatusBarStyle",e)},setStatusBarBackground:e=>{f.dispatch("setStatusBarBackground",e)},showSafearea:e=>{f.dispatch("showSafearea",e)},hideSafearea:e=>{f.dispatch("hideSafearea",e)},getStatusbarHeight:e=>{f.dispatch("getStatusbarHeight",e)},getSafeAreaHeight:e=>{f.dispatch("getSafeAreaHeight",e)},getSystemInfo:e=>{f.dispatch("getSystemInfo",e)},cacheSetItem:e=>{f.dispatch("cacheSetItem",e)},cacheGetItem:e=>{f.dispatch("cacheGetItem",e)},cacheClear:e=>{f.dispatch("cacheClear",e)}};void 0===window.sapp&&(window.sapp={...c,core:f,util:p}),console.info("sapp-js-sdk: ",c.version);const l={...c,core:f,util:p}})(0,t,e),t.default})()}));